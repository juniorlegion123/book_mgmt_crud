{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Bookmanagement\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from './api';\nimport Header from './components/Header';\nimport SearchBar from './components/SearchBar';\nimport BookCard from './components/BookCard';\nimport BookFormModal from './components/BookFormModal';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [publishedOnly, setPublishedOnly] = useState(false);\n  const fetchBooks = async () => {\n    try {\n      const res = await axios.get('http://localhost:8080/api/books');\n      console.log(res.data);\n      setBooks(res.data);\n    } catch (err) {\n      console.error(err);\n      alert('Failed to fetch books. Ensure backend is running at http://localhost:8080');\n    }\n  };\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  const handleSearch = async q => {\n    setQuery(q);\n    if (!q.trim()) {\n      fetchBooks();\n      return;\n    }\n    try {\n      const res = await api.get(`/search?title=${encodeURIComponent(q)}`);\n      setBooks(res.data);\n    } catch (err) {\n      console.error(err);\n      alert('Search failed');\n    }\n  };\n  const handleFilterPublished = async val => {\n    setPublishedOnly(val);\n    if (val) {\n      try {\n        const res = await api.get('/published');\n        setBooks(res.data);\n      } catch (err) {\n        console.error(err);\n        alert('Filter failed');\n      }\n    } else {\n      fetchBooks();\n    }\n  };\n  const openAddModal = () => {\n    setEditingBook(null);\n    setModalOpen(true);\n  };\n  const openEditModal = book => {\n    setEditingBook(book);\n    setModalOpen(true);\n  };\n  const handleSave = async book => {\n    try {\n      if (book.id) {\n        await api.put(`/${book.id}`, book);\n      } else {\n        await axios.post('http://localhost:8080/api/books', book);\n      }\n      setModalOpen(false);\n      fetchBooks();\n    } catch (err) {\n      console.error(err);\n      alert('Save failed');\n    }\n  };\n  const handleDelete = async id => {\n    if (!window.confirm('Are you sure you want to delete this book?')) return;\n    try {\n      await api.delete(`/${id}`);\n      fetchBooks();\n    } catch (err) {\n      console.error(err);\n      alert('Delete failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onAdd: openAddModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n          value: query,\n          onSearch: handleSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"published-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: publishedOnly,\n            onChange: e => handleFilterPublished(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), \"Published only\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"cards\",\n        children: books.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty\",\n          children: \"No books found. Add your first book!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this) : books.map(b => /*#__PURE__*/_jsxDEV(BookCard, {\n          book: b,\n          onEdit: () => openEditModal(b),\n          onDelete: () => handleDelete(b.id)\n        }, b.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), modalOpen && /*#__PURE__*/_jsxDEV(BookFormModal, {\n      book: editingBook,\n      onClose: () => setModalOpen(false),\n      onSave: handleSave\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rr3paxJF8lsBrfS1fBJiUkkGSRI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","api","Header","SearchBar","BookCard","BookFormModal","axios","jsxDEV","_jsxDEV","App","_s","books","setBooks","query","setQuery","modalOpen","setModalOpen","editingBook","setEditingBook","publishedOnly","setPublishedOnly","fetchBooks","res","get","console","log","data","err","error","alert","handleSearch","q","trim","encodeURIComponent","handleFilterPublished","val","openAddModal","openEditModal","book","handleSave","id","put","post","handleDelete","window","confirm","delete","className","children","onAdd","fileName","_jsxFileName","lineNumber","columnNumber","value","onSearch","type","checked","onChange","e","target","length","map","b","onEdit","onDelete","onClose","onSave","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Bookmanagement/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport api from './api';\nimport Header from './components/Header';\nimport SearchBar from './components/SearchBar';\nimport BookCard from './components/BookCard';\nimport BookFormModal from './components/BookFormModal';\nimport axios from 'axios';\n\nfunction App() {\n  const [books, setBooks] = useState([]);\n  const [query, setQuery] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [publishedOnly, setPublishedOnly] = useState(false);\n\n  const fetchBooks = async () => {\n    try {\n      const res = await axios.get('http://localhost:8080/api/books');\n\n      console.log(res.data);\n\n      setBooks(res.data);\n    } catch (err) {\n      console.error(err);\n      alert('Failed to fetch books. Ensure backend is running at http://localhost:8080');\n    }\n  };\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const handleSearch = async (q) => {\n    setQuery(q);\n    if (!q.trim()) {\n      fetchBooks();\n      return;\n    }\n    try {\n      const res = await api.get(`/search?title=${encodeURIComponent(q)}`);\n      setBooks(res.data);\n    } catch (err) {\n      console.error(err);\n      alert('Search failed');\n    }\n  };\n\n  const handleFilterPublished = async (val) => {\n    setPublishedOnly(val);\n    if (val) {\n      try {\n        const res = await api.get('/published');\n        setBooks(res.data);\n      } catch (err) {\n        console.error(err);\n        alert('Filter failed');\n      }\n    } else {\n      fetchBooks();\n    }\n  };\n\n  const openAddModal = () => {\n    setEditingBook(null);\n    setModalOpen(true);\n  };\n\n  const openEditModal = (book) => {\n    setEditingBook(book);\n    setModalOpen(true);\n  };\n\n  const handleSave = async (book) => {\n    try {\n      if (book.id) {\n        await api.put(`/${book.id}`, book);\n      } else {\n        await axios.post('http://localhost:8080/api/books', book);\n      }\n      setModalOpen(false);\n      fetchBooks();\n    } catch (err) {\n      console.error(err);\n      alert('Save failed');\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this book?')) return;\n    try {\n      await api.delete(`/${id}`);\n      fetchBooks();\n    } catch (err) {\n      console.error(err);\n      alert('Delete failed');\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <Header onAdd={openAddModal} />\n      <main className=\"container\">\n        <div className=\"controls\">\n          <SearchBar value={query} onSearch={handleSearch} />\n          <label className=\"published-toggle\">\n            <input type=\"checkbox\" checked={publishedOnly} onChange={(e) => handleFilterPublished(e.target.checked)} />\n            Published only\n          </label>\n        </div>\n        <section className=\"cards\">\n          {books.length === 0 ? (\n            <p className=\"empty\">No books found. Add your first book!</p>\n          ) : (\n            books.map((b) => (\n              <BookCard key={b.id} book={b} onEdit={() => openEditModal(b)} onDelete={() => handleDelete(b.id)} />\n            ))\n          )}\n        </section>\n      </main>\n\n      {modalOpen && (\n        <BookFormModal\n          book={editingBook}\n          onClose={() => setModalOpen(false)}\n          onSave={handleSave}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}